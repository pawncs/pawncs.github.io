---
title: 安卓学习
date: 2020-07-11 21:12:58
categories:
- Android
tags: 
- dictory
---
<style>
.title1{
    font-size:36px;
    color:#e7767f;
    /* 桃红 */

}
.title2{
    font-size:29px;
    color:#176f58;
    /* 祖母绿 */
}
.title3{
    font-size:22px;
    color:#21a675;
    /* 石绿 */
}
.title4{
    font-size:15px;
    color:#a8cd34;
    /* 柳绿 */
}
</style>

-----
<div class="title2">零、目录</div>

-----
~~~
┌----- 一、Android了解
|       ├-----1.1 Android 概述
|       ├-----1.2 Android 开发工具
|       └-----1.3 第一个Android应用
|
├----- 二、UI组件
|       ├-----2.1 布局管理器
|       ├-----2.2 TextView
|       ├-----2.3 Button
|       ├-----2.4 EditText
|       ├-----2.5 RadioButton
|       ├-----2.6 复选框CheckBox
|       ├-----2.7 ImageView
|       ├-----2.8 列表视图ListView
|       ├-----2.9 网格视图GridView
|       ├-----2.10 滚动视图ScrollView & HorizontalScrollView
|       ├-----2.11 RecycleView
|       └-----2.12 WebView
|
├----- 三、暂缺
|       ├-----3.1 暂缺
|       └-----3.2 暂缺
|
└----- 四、Activity和Fragment
        ├-----4.1 Activity
        └-----4.2 Fragment
~~~
[视频地址](https://www.bilibili.com/video/BV1Rt411e76H?from=search&seid=3602781529840559805)

-----
<div class="title2">一、Android了解</div>

-----
<div class="title3">1.1 Android概述</div>

+ Android是Google开发的操作系统
+ Android是移动应用开发的表现形式之一
<div class="title4">完整项目最精简流程</div>

~~~java
// Android  
//    |  
//    ↓  
//   接口  
//    |  
//    ↓  
//  数据库 
~~~

<div class="title3">1.2 Android开发工具</div>

Android Studio，（Eclipse是上个时代的）
+ 下载JDK等安装环境……
+ Gradle了解

<div class="title3">1.3 第一个Android应用</div>

新建一个Android项目，配置虚拟机启动就可以了。  
主要关注这些:
>视图

可以选Android或者Project这些。一般选择Android，可以隐藏很多不常用的文件。
>AndroidMainifest.xml  

主配置文件，重要。在这里声明了所有的activity，同时设置了启动的activity.我理解为项目的入口
>res

下放资源。其中layout放页面布局，values放字符串等调用信息，drawable放图片这些。其中layout中为了方便团队协作等，一般使用线性布局`LinearLayput`

>build.gradle

也是比较重要的文件。可以添加依赖，修改版本号等。

-----
<div class="title2">二、UI组件</div>

-----
<div class="title3">2.1 布局管理器</div>

一个页面的元素之间相互位置的关系是谁来确定？他们的布局由谁来管理？
<div class="title4">线性布局(LinearLayout)</div>

最常用属性：
+ android: id  
`="@+id/[……]"`创建一个新ID

+ android: layout_width  
+ android: layout_height
+ android：layout_margin
+ android: layout_padding
+ android: background
+ android: orientation  

其他属性
+ android: gravity  
内部元素对齐方式（css的display?）

+ android: layout_weight  
权重，用于内部平分父元素之类


大部分控件都会使用这些属性（大部分作用按字面意思理解）
<div class="title4">相对布局(RelativeLayout)</div>

最常用属性：
+ android: layout_toLeftOf  
在谁的左边

+ android: layout_toRightOf  
在谁的右边
+ android: layout_alignBottom  
和谁的底部对齐
+ android：layout_alignParentBottom  
和父空间的底部对齐
+ android: layout_below  
在谁的下面

大部分控件都会使用这些属性（大部分作用按字面意思理解）
>总体大概和HTML.CSS差不多。

<div class="title3">2.2 TextView</div>

>intent-意图,页面跳转要这个类
+ 文字大小  
单位用sp

+ 文字溢出（显示不下使用…）  
设置行数`maxLines`,然后设置`ellipsize="end"`
+ 文字 + icon  
eg:`drawableRight`属性
+ 中划线、下划线  
在逻辑代码里。获取对象后`.getPaint().setFlags(Paint.STRIKE_THRU_TEXT_FLAG)`,然后设置抗锯齿，，（`antiAlias`）  
下划线可以用同样的方法，也可以在逻辑代码里`setText()`方法里用html的代码实现。`Html.fromHtml(<u>待输入内容</u>)`
+ 跑马灯  
~~~xml
<TextView>
<!-- 略 -->
android: ellipsize="marquee"
<!-- 这里是重复次数 -->
android:marqieeRepeatLimit="marquee_forever"
<!-- 这里设置单行 -->
android:singleLine="true"
<!-- 焦点 -->
android：focusable="true"
android:focusableInTouchMode="true"
</TextView>
~~~
>这里跑不起来的话`setSelected(true)`，或者`clickable=true`
`ellipsize`设置为"marquee"，重复次数设置`marqueeRepeatLimit`，这里要设置单行。`singleLine`,
<div class="title3">2.3 Button</div>

>Button是TextVeiw的子类。

+ 文字大小、颜色  
textSize,textColor

+ 自定义背景形状  
新建一个shape文件（在资源文件里）  
设置线条标签solid,角标签corners.  
然后在布局文件里background属性中引用。`@drawable/bg_btn2`
+ 自定义按压效果   
新建一个selector文件（资源文件里）  
~~~xml
<selector>
    <item android:state_pressed="true">
    <!-- 没有按压设置为false -->
        <shape>
        <!-- 具体,如solid,color,corners -->
        </shape>
    </item>
</selector>
~~~
>是自定义背景形状的升级版
+ 点击事件  
除了在逻辑代码里添加，也可以在xml文件里加上属性onclick，设置方法名。示范：
~~~java
Toast.makeText(this,"弹出来的信息",Toast.LENGTH_SHORT).show();
~~~
<div class="title3">2.4 EditText</div>

>和Button一样，是TextView的子类  
>它是可输入的子件。

+ 常用属性  
默认值属性：`hint`（`placeholder`）  
设置暗文属性：`inpytType = "textPassword"`  
设置只能输入数字：`inpytType = "number"` 

+ 监听事件  
逻辑代码：
~~~java
editText.addTextChangedListener(new TextWatcher(){
// ……
});
~~~
<div class="title3">2.5 RadioButton</div>

>一组可以放在`<RadioGroup/>`中
+ 常用属性  
默认选中:`checked = "true"`  
去掉选框：`button:"@null"`

+ 自定义样式
~~~xml
<selector>
    <item android:state_checked="true">
    <!-- 没有按压设置为false -->
        <shape>
        <!-- 具体,如solid,color,corners -->
        </shape>
    </item>
</selector>
~~~
+ 监听事件
~~~java
radioGroup.setOnCheckedChangeListener(new RadioGroup.onCheckedChangeListener(){
    @Override
    public void onCheckedChanged(RadioGroup group,@IdRes int checkedId){
        RadioButton rb = (RadioButton)group.findViewById(checkedId);
        Toast.makeText(RadioButtonActivity.this,radioButton,getText(),Toast.LENGTH_SHORT).show();
    }

});
~~~
<div class="title3">2.6 复选框CheckBox</div>

+ 常用属性

+ 自定义样式
~~~xml
<selector>
    <item android:state_checked="true" android:drawable="@drawable/icon_checkbox_false">
    <!-- 没有按压设置为false -->
        <shape>
        <!-- 具体,如solid,color,corners -->
        </shape>
    </item>
</selector>
~~~
+ 监听事件
~~~java
checkBox.setOnCheckedChangeListener(new CompoundButton.onCheckedChangeListener(){
    @Override
    public void onCheckedChanged(CompoundButton button,boolean isChecked){
        Toast.makeText(CheckBoxActivity.this,isChecked?"选中":"未选中",Toast.LENGTH_SHORT).show();
    }

});
~~~
<div class="title3">2.7 ImageView</div>

+ 常用属性  
`android：src="@drawable/bg_iron_man"`  
`android:scaleType="fitXY"`撑满控件
>其他的`scaleType`：  
`fitXY`撑满控件;`fitCenter`保持宽高比缩放，直至完全显示;`centerCrop`保持宽高比缩放，直至完全覆盖控件，裁剪显示
+ 加载网络图片  
通过第三方开源库 [glide](https://github.com/bumptech/glide)  
简单用法实例`Glide.with(this).load("http://goo.gl/gEgYUd").into(imageView);`
>通过gradle管理依赖  

>这里需要用到网络权限。所有申请的权限都要在mainfest里面申请。
~~~xml
<uses-permission android:name="android.permission.INTERNET"/>
~~~
<div class="title3">2.8 列表视图ListView</div>

>在实际开发中被RecycleView代替，这里仅做了解

~~~JAVA
//TOSTUDY
~~~

>我们先略过叭
<div class="title3">2.9 网格视图GridView</div>

>在实际开发中被RecycleView代替，这里仅做了解

~~~JAVA
//TOSTUDY
~~~

>我们先略过叭
<div class="title3">2.10 滚动视图ScrollView & HorizontalScrollView</div>

>将ScrollView套在最外面，使其可以上下滚动

+ 垂直滚动 ScrollView
+ 水平滚动 HorizontalScrollView
> 注意，ScrollView和HorizontalScrollView的子元素只能有一个
<div class="title3">2.11 RecyclerView</div>

>能够<strong>灵活</strong>实现大数据集的展示，视图复用管理比ListView更好，能够显示列表、网格、瀑布流等形式，且不同的ViewHolder能够实现item多元化的功能

[RecyclerView文档](https://kymjs.com/code/2016/07/10/01/)

<div class="title3">2.12 WebView</div>

+ 加载URL（网络或者本地assets文件夹下html）  
`webview.loadUrl("http://www.baidu.com")`或`loadUrl("file://android_assert/test.html")`  
若是接入网络URL，则需要JS支持，需在之前设置支持JS。`webView.getSettings().setJavaScroptEnabled(true)`

+ 直接加载html代码  
`webview.loadData()`或`webview.loadDateWithBaseURL()`。后者在编码设置中相对好些。前者可能会出现乱码等情况。

+ native和JavaScript相互调用

网页的前进后退
+ webview.canGoBack()
+ webview.goBack()
+ webview.canGoForward()
+ webview.goForward()
+ webview.canGoBackOrForward(int step)
+ webview.goBackOrForward(int step)

>按下返回键，默认是退出当前Activity,如果希望是WebView内页面后退
~~~java
public boolean onKeyDown(int keyCode,KeyEvent event){
    if((keyCode == KeyEvent.KEYCODE_BACK)&&webview.canGoBack()){
        webView.goBack();
        return true;
    }
    return super.onKeyDown(keyCode,event);
}
~~~
关注类`WebChormeClient`

-----
<div class="title2">四、Activity和Fragment</div>

-----
<div class="title3">4.1 Activity</div>
<div class="title4">Activity创建三部曲</div>

1. 新建类继承Activity或其子类  
2. 在AndroidManifest中声明
3. 创建layout并在Activity中的onCreate中设置

<div class="title4">Activity生命周期</div>

creat->start->resume->pause->stop->destroy
<div class="title4">Activity跳转和数据传递</div>

+ 显式跳转和隐式跳转  
显式：`Intent intent = new Intent(this,Activity.class)`  
隐式：在注册的xml里仿照初始界面。action改为`com.skypan.test.Activity`(随便写).然后intent写`setAction(string)`
+ Activity之间的数据传递  
``

+ startActivityForResult：启动Activity，结束后返回结果


<div class="title1">附录</div>
<div class="title4">有关support -4和appcompat-v7</div>

可以去包androidx中找找。
~~~java
//import android.support.v4.app.Fragment;
import androidx.fragment.app.Fragment;
//import android.support.v7.app.AlertDialog;
import androidx.appcompat.app.AlertDialog;
~~~

这我是没想到的，我一直在找为什么他们标红的原因，采取了各种说法“版本不一致”“编辑器错误”等，还尝试过手动下载包到本地。。结果发现support被androidx代替了。。这。。